{"ast":null,"code":"import _toConsumableArray from \"/Users/honey/Desktop/react-firebase-authentication/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/Users/honey/Desktop/react-firebase-authentication/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { getProduct } from './products'; // actions\n\nvar CART_ADD = 'cart/ADD';\nvar CART_REMOVE = 'cart/REMOVE'; // reducer\n\nvar initialState = {\n  items: [],\n  // array of product ids\n  currency: 'EUR'\n};\nexport default function cart() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  switch (action.type) {\n    case CART_ADD:\n      return handleCartAdd(state, action.payload);\n\n    case CART_REMOVE:\n      return handleCartRemove(state, action.payload);\n\n    default:\n      return state;\n  }\n}\n\nfunction handleCartAdd(state, payload) {\n  return _objectSpread({}, state, {\n    items: _toConsumableArray(state.items).concat([payload.productId])\n  });\n}\n\nfunction handleCartRemove(state, payload) {\n  return _objectSpread({}, state, {\n    items: state.items.filter(function (id) {\n      return id !== payload.productId;\n    })\n  });\n} // action creators\n\n\nexport function addToCart(productId) {\n  return {\n    type: CART_ADD,\n    payload: {\n      productId: productId\n    }\n  };\n}\nexport function removeFromCart(productId) {\n  return {\n    type: CART_REMOVE,\n    payload: {\n      productId: productId\n    }\n  };\n} // selectors\n\nexport function isInCart(state, props) {\n  return state.cart.items.indexOf(props.id) !== -1;\n}\nexport function getItems(state, props) {\n  return state.cart.items.map(function (id) {\n    return getProduct(state, {\n      id: id\n    });\n  });\n}\nexport function getCurrency(state, props) {\n  return state.cart.currency;\n}\nexport function getTotal(state, props) {\n  return state.cart.items.reduce(function (acc, id) {\n    var item = getProduct(state, {\n      id: id\n    });\n    return acc + item.price;\n  }, 0);\n}","map":{"version":3,"sources":["/Users/honey/Desktop/react-firebase-authentication/src/containers/Cart_1.js"],"names":["getProduct","CART_ADD","CART_REMOVE","initialState","items","currency","cart","state","action","type","handleCartAdd","payload","handleCartRemove","productId","filter","id","addToCart","removeFromCart","isInCart","props","indexOf","getItems","map","getCurrency","getTotal","reduce","acc","item","price"],"mappings":";;AAAA,SAASA,UAAT,QAA2B,YAA3B,C,CAEA;;AACA,IAAMC,QAAQ,GAAK,UAAnB;AACA,IAAMC,WAAW,GAAG,aAApB,C,CAEA;;AACA,IAAMC,YAAY,GAAG;AACjBC,EAAAA,KAAK,EAAE,EADU;AACN;AACXC,EAAAA,QAAQ,EAAE;AAFO,CAArB;AAKA,eAAe,SAASC,IAAT,GAAiD;AAAA,MAAnCC,KAAmC,uEAA3BJ,YAA2B;AAAA,MAAbK,MAAa,uEAAJ,EAAI;;AAC5D,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKR,QAAL;AACI,aAAOS,aAAa,CAACH,KAAD,EAAQC,MAAM,CAACG,OAAf,CAApB;;AACJ,SAAKT,WAAL;AACI,aAAOU,gBAAgB,CAACL,KAAD,EAAQC,MAAM,CAACG,OAAf,CAAvB;;AACJ;AACI,aAAOJ,KAAP;AANR;AAQH;;AAED,SAASG,aAAT,CAAuBH,KAAvB,EAA8BI,OAA9B,EAAuC;AACnC,2BACOJ,KADP;AAEIH,IAAAA,KAAK,qBAAOG,KAAK,CAACH,KAAb,UAAoBO,OAAO,CAACE,SAA5B;AAFT;AAIH;;AAED,SAASD,gBAAT,CAA0BL,KAA1B,EAAiCI,OAAjC,EAA0C;AACtC,2BACOJ,KADP;AAEIH,IAAAA,KAAK,EAAEG,KAAK,CAACH,KAAN,CAAYU,MAAZ,CAAmB,UAAAC,EAAE;AAAA,aAAIA,EAAE,KAAKJ,OAAO,CAACE,SAAnB;AAAA,KAArB;AAFX;AAIH,C,CAED;;;AACA,OAAO,SAASG,SAAT,CAAmBH,SAAnB,EAA8B;AACjC,SAAO;AACHJ,IAAAA,IAAI,EAAER,QADH;AAEHU,IAAAA,OAAO,EAAE;AACLE,MAAAA,SAAS,EAATA;AADK;AAFN,GAAP;AAMH;AAED,OAAO,SAASI,cAAT,CAAwBJ,SAAxB,EAAmC;AACtC,SAAO;AACHJ,IAAAA,IAAI,EAAEP,WADH;AAEHS,IAAAA,OAAO,EAAE;AACLE,MAAAA,SAAS,EAATA;AADK;AAFN,GAAP;AAMH,C,CAED;;AACA,OAAO,SAASK,QAAT,CAAkBX,KAAlB,EAAyBY,KAAzB,EAAgC;AACnC,SAAOZ,KAAK,CAACD,IAAN,CAAWF,KAAX,CAAiBgB,OAAjB,CAAyBD,KAAK,CAACJ,EAA/B,MAAuC,CAAC,CAA/C;AACH;AAED,OAAO,SAASM,QAAT,CAAkBd,KAAlB,EAAyBY,KAAzB,EAAgC;AACnC,SAAOZ,KAAK,CAACD,IAAN,CAAWF,KAAX,CAAiBkB,GAAjB,CAAqB,UAAAP,EAAE;AAAA,WAAIf,UAAU,CAACO,KAAD,EAAQ;AAAEQ,MAAAA,EAAE,EAAFA;AAAF,KAAR,CAAd;AAAA,GAAvB,CAAP;AACH;AAED,OAAO,SAASQ,WAAT,CAAqBhB,KAArB,EAA4BY,KAA5B,EAAmC;AACtC,SAAOZ,KAAK,CAACD,IAAN,CAAWD,QAAlB;AACH;AAED,OAAO,SAASmB,QAAT,CAAkBjB,KAAlB,EAAyBY,KAAzB,EAAgC;AACnC,SAAOZ,KAAK,CAACD,IAAN,CAAWF,KAAX,CAAiBqB,MAAjB,CAAwB,UAACC,GAAD,EAAMX,EAAN,EAAa;AACxC,QAAMY,IAAI,GAAG3B,UAAU,CAACO,KAAD,EAAQ;AAAEQ,MAAAA,EAAE,EAAFA;AAAF,KAAR,CAAvB;AACA,WAAOW,GAAG,GAAGC,IAAI,CAACC,KAAlB;AACH,GAHM,EAGJ,CAHI,CAAP;AAIH","sourcesContent":["import { getProduct } from './products';\n\n// actions\nconst CART_ADD   = 'cart/ADD';\nconst CART_REMOVE = 'cart/REMOVE';\n\n// reducer\nconst initialState = {\n    items: [], // array of product ids\n    currency: 'EUR'\n};\n\nexport default function cart(state = initialState, action = {}) {\n    switch (action.type) {\n        case CART_ADD:\n            return handleCartAdd(state, action.payload);\n        case CART_REMOVE:\n            return handleCartRemove(state, action.payload);\n        default:\n            return state;\n    }\n}\n\nfunction handleCartAdd(state, payload) {\n    return {\n        ...state,\n        items: [ ...state.items, payload.productId ]\n    };\n}\n\nfunction handleCartRemove(state, payload) {\n    return {\n        ...state,\n        items: state.items.filter(id => id !== payload.productId)\n    };\n}\n\n// action creators\nexport function addToCart(productId) {\n    return {\n        type: CART_ADD,\n        payload: {\n            productId\n        }\n    }\n}\n\nexport function removeFromCart(productId) {\n    return {\n        type: CART_REMOVE,\n        payload: {\n            productId\n        }\n    }\n}\n\n// selectors\nexport function isInCart(state, props) {\n    return state.cart.items.indexOf(props.id) !== -1;\n}\n\nexport function getItems(state, props) {\n    return state.cart.items.map(id => getProduct(state, { id }));\n}\n\nexport function getCurrency(state, props) {\n    return state.cart.currency;\n}\n\nexport function getTotal(state, props) {\n    return state.cart.items.reduce((acc, id) => {\n        const item = getProduct(state, { id });\n        return acc + item.price;\n    }, 0);\n}\n"]},"metadata":{},"sourceType":"module"}