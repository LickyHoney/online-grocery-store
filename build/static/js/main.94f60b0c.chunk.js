(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,t,n){e.exports=n(63)},43:function(e,t,n){},45:function(e,t,n){},47:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(25),i=n.n(c),u=n(12),l=n(14),o=n(22),s=n(4);var m="cart/ADD",p="cart/REMOVE",d={items:[],currency:"EUR"};var h=function(e){var t=e.name,n=e.price,a=e.currency,c=e.onClick;return r.a.createElement("div",{className:"cart-item"},r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-danger btn-xs",onClick:c},"X"),r.a.createElement("span",{className:"cart-item__name"},t)),r.a.createElement("div",{className:"cart-item__price"},n," ",a))},E=function(e){var t=e.items,n=e.total,a=e.currency,c=e.removeFromCart;return r.a.createElement("div",null,r.a.createElement("h3",null,"Shopping Cart"),r.a.createElement("div",{className:"cart"},r.a.createElement("div",{className:"panel panel-default"},r.a.createElement("div",{className:"panel-body"},t.length>0&&r.a.createElement("div",{className:"cart__body"},t.map(function(e){return r.a.createElement(h,Object.assign({key:e.id},e,{onClick:function(){return c(e.id)}}))})),0===t.length&&r.a.createElement("div",{className:"alert alert-info"},"Cart is empty"),r.a.createElement("div",{className:"cart__total"},"Total: ",n," ",a)))))},f=(n(43),E);function b(e,t){return e.products}function g(e,t){return e.products.find(function(e){return e.id===t.id})}var v="cart/ADD",O="cart/REMOVE";function j(e){return{type:O,payload:{productId:e}}}function y(e,t){return-1!==e.cart.items.indexOf(t.id)}function w(e,t){return e.cart.items.map(function(t){return g(e,{id:t})})}function C(e,t){return e.cart.currency}function S(e,t){return e.cart.items.reduce(function(t,n){return t+g(e,{id:n}).price},0)}var U=Object(u.b)(function(e,t){return{items:w(e),currency:C(e),total:S(e)}},function(e){return{removeFromCart:function(t){return e(j(t))}}})(f),N=n(3),k=n(5),R=n(7),_=n(6),P=n(8),A=function(e){function t(){var e,n;Object(N.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(R.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){var e=n.props,t=e.id,a=e.addToCart,r=e.removeFromCart;e.isInCart?r(t):a(t)},n}return Object(P.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.price,a=e.currency,c=e.image,i=e.isInCart;return r.a.createElement("div",{className:"product thumbnail"},r.a.createElement("img",{src:c,alt:"product"}),r.a.createElement("div",{className:"caption"},r.a.createElement("h3",null,t),r.a.createElement("div",{className:"product__price"},n," ",a),r.a.createElement("div",{className:"product__button-wrap"},r.a.createElement("button",{className:i?"btn btn-danger":"btn btn-primary",onClick:this.handleClick},i?"Remove":"Add to cart"))))}}]),t}(a.Component),I=(n(45),A),D=Object(u.b)(function(e,t){return{isInCart:y(e,t)}},function(e){return{addToCart:function(t){return e({type:v,payload:{productId:t}})},removeFromCart:function(t){return e(j(t))}}})(I),T=function(e){var t=e.products;return r.a.createElement("div",null,r.a.createElement("h3",null,"Products"),r.a.createElement("ul",{className:"product-list"},t.map(function(e){return r.a.createElement("li",{key:e.id,className:"product-list__item"},r.a.createElement(D,e))})))},x=(n(47),T),M=Object(u.b)(function(e,t){return{products:b(e)}})(x),W=n(64),F=r.a.createContext(null),X=function(e){return function(t){return r.a.createElement(F.Consumer,null,function(n){return r.a.createElement(e,Object.assign({},t,{firebase:n}))})}},B=F,L=n(24),V=n.n(L),z=(n(54),n(56),{apiKey:"AIzaSyC3T2JIjG8SB8UQMXfCizdRKePRTBaXqlY",authDomain:"onlineshop-6c3b3.firebaseapp.com",databaseURL:"https://onlineshop-6c3b3.firebaseio.com",projectId:"onlineshop-6c3b3",storageBucket:"onlineshop-6c3b3.appspot.com",messagingSenderId:"48560561585"}),G=function e(){var t=this;Object(N.a)(this,e),this.doCreateUserWithEmailAndPassword=function(e,n){return t.auth.createUserWithEmailAndPassword(e,n)},this.doSignInWithEmailAndPassword=function(e,n){return t.auth.signInWithEmailAndPassword(e,n)},this.doSignOut=function(){return t.auth.signOut()},this.doPasswordReset=function(e){return t.auth.sendPasswordResetEmail(e)},this.doPasswordUpdate=function(e){return t.auth.currentUser.updatePassword(e)},this.user=function(e){return t.db.ref("users/".concat(e))},this.users=function(){return t.db.ref("users")},V.a.initializeApp(z),this.auth=V.a.auth(),this.db=V.a.database()},H=X(function(e){var t=e.firebase;return r.a.createElement("button",{type:"button",onClick:t.doSignOut},"Sign Out")}),J="/home",K=r.a.createContext(null),q=function(e){var t=function(t){function n(e){var t;return Object(N.a)(this,n),(t=Object(R.a)(this,Object(_.a)(n).call(this,e))).state={authUser:null},t}return Object(P.a)(n,t),Object(k.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.listener=this.props.firebase.auth.onAuthStateChanged(function(t){t?e.setState({authUser:t}):e.setState({authUser:null})})}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){return r.a.createElement(K.Provider,{value:this.state.authUser},r.a.createElement(e,this.props))}}]),n}(r.a.Component);return X(t)},Q=n(67),Y=n(18),Z=function(e){return function(t){var n=function(n){function a(){return Object(N.a)(this,a),Object(R.a)(this,Object(_.a)(a).apply(this,arguments))}return Object(P.a)(a,n),Object(k.a)(a,[{key:"componentDidMount",value:function(){var t=this;this.listener=this.props.firebase.auth.onAuthStateChanged(function(n){e(n)||t.props.history.push("/signin")})}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){var n=this;return r.a.createElement(K.Consumer,null,function(a){return e(a)?r.a.createElement(t,n.props):null})}}]),a}(r.a.Component);return Object(Y.a)(Q.a,X)(n)}},$=function(){return r.a.createElement("div",null,r.a.createElement(W.a,{to:J},r.a.createElement("button",{type:"button"},"Home")),r.a.createElement(W.a,{to:"/account"},r.a.createElement("button",{type:"button"},"Account")),r.a.createElement(H,null))},ee=function(){return r.a.createElement("div",null,r.a.createElement(W.a,{to:J},r.a.createElement("button",{type:"button"},"HOME")),r.a.createElement(W.a,{to:"/signin"},r.a.createElement("button",{type:"button"},"Sign In")))},te=function(){return r.a.createElement("div",null,r.a.createElement(K.Consumer,null,function(e){return e?r.a.createElement($,null):r.a.createElement(ee,null)}))},ne=n(66),ae=n(65),re=function(){return r.a.createElement("div",null)},ce=n(11),ie={username:"",email:"",passwordOne:"",passwordTwo:"",error:null},ue=function(e){function t(e){var n;return Object(N.a)(this,t),(n=Object(R.a)(this,Object(_.a)(t).call(this,e))).onSubmit=function(e){var t=n.state,a=t.username,r=t.email,c=t.passwordOne;n.props.firebase.doCreateUserWithEmailAndPassword(r,c).then(function(e){return n.props.firebase.user(e.user.uid).set({username:a,email:r})}).then(function(){n.setState(Object(s.a)({},ie)),n.props.history.push(J)}).catch(function(e){n.setState({error:e})}),e.preventDefault()},n.onChange=function(e){n.setState(Object(ce.a)({},e.target.name,e.target.value))},n.state=Object(s.a)({},ie),n}return Object(P.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,n=e.email,a=e.passwordOne,c=e.passwordTwo,i=e.error,u=a!==c||""===a||""===n||""===t;return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{name:"username",value:t,onChange:this.onChange,type:"text",placeholder:"Full Name"}),r.a.createElement("input",{name:"email",value:n,onChange:this.onChange,type:"text",placeholder:"Email Address"}),r.a.createElement("input",{name:"passwordOne",value:a,onChange:this.onChange,type:"password",placeholder:"Password"}),r.a.createElement("input",{name:"passwordTwo",value:c,onChange:this.onChange,type:"password",placeholder:"Confirm Password"}),r.a.createElement("button",{disabled:u,type:"submit"},"Sign Up"),i&&r.a.createElement("p",null,i.message))}}]),t}(a.Component),le=Object(Y.a)(Q.a,X)(ue),oe=function(){return r.a.createElement("p",null,"Don't have an account? ",r.a.createElement(W.a,{to:"/signup"},"Sign Up"))},se=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"SignUp"),r.a.createElement(le,null))},me={email:"",error:null},pe=function(e){function t(e){var n;return Object(N.a)(this,t),(n=Object(R.a)(this,Object(_.a)(t).call(this,e))).onSubmit=function(e){var t=n.state.email;n.props.firebase.doPasswordReset(t).then(function(){n.setState(Object(s.a)({},me))}).catch(function(e){n.setState({error:e})}),e.preventDefault()},n.onChange=function(e){n.setState(Object(ce.a)({},e.target.name,e.target.value))},n.state=Object(s.a)({},me),n}return Object(P.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,n=e.error,a=""===t;return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{name:"email",value:this.state.email,onChange:this.onChange,type:"text",placeholder:"Email Address"}),r.a.createElement("button",{disabled:a,type:"submit"},"Reset My Password"),n&&r.a.createElement("p",null,n.message))}}]),t}(a.Component),de=function(){return r.a.createElement("p",null,r.a.createElement(W.a,{to:"/pw-forget"},"Forgot Password?"))},he=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"PasswordForget"),r.a.createElement(Ee,null))},Ee=X(pe),fe={email:"",password:"",error:null},be=function(e){function t(e){var n;return Object(N.a)(this,t),(n=Object(R.a)(this,Object(_.a)(t).call(this,e))).onSubmit=function(e){var t=n.state,a=t.email,r=t.password;n.props.firebase.doSignInWithEmailAndPassword(a,r).then(function(){n.setState(Object(s.a)({},fe)),n.props.history.push(J)}).catch(function(e){n.setState({error:e})}),e.preventDefault()},n.onChange=function(e){n.setState(Object(ce.a)({},e.target.name,e.target.value))},n.state=Object(s.a)({},fe),n}return Object(P.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,n=e.password,a=e.error,c=""===n||""===t;return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{name:"email",value:t,onChange:this.onChange,type:"text",placeholder:"Email Address"}),r.a.createElement("input",{name:"password",value:n,onChange:this.onChange,type:"password",placeholder:"Password"}),r.a.createElement("button",{disabled:c,type:"submit"},"Sign In"),a&&r.a.createElement("p",null,a.message))}}]),t}(a.Component),ge=Object(Y.a)(Q.a,X)(be),ve=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"SignIn"),r.a.createElement(ge,null),r.a.createElement(de,null),r.a.createElement(oe,null))},Oe=Z(function(e){return!!e})(function(){return r.a.createElement("div",null)}),je={passwordOne:"",passwordTwo:"",error:null},ye=function(e){function t(e){var n;return Object(N.a)(this,t),(n=Object(R.a)(this,Object(_.a)(t).call(this,e))).onSubmit=function(e){var t=n.state.passwordOne;n.props.firebase.doPasswordUpdate(t).then(function(){n.setState(Object(s.a)({},je))}).catch(function(e){n.setState({error:e})}),e.preventDefault()},n.onChange=function(e){n.setState(Object(ce.a)({},e.target.name,e.target.value))},n.state=Object(s.a)({},je),n}return Object(P.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this.state,t=e.passwordOne,n=e.passwordTwo,a=e.error,c=t!==n||""===t;return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{name:"passwordOne",value:t,onChange:this.onChange,type:"password",placeholder:"New Password"}),r.a.createElement("input",{name:"passwordTwo",value:n,onChange:this.onChange,type:"password",placeholder:"Confirm New Password"}),r.a.createElement("button",{disabled:c,type:"submit"},"Reset My Password"),a&&r.a.createElement("p",null,a.message))}}]),t}(a.Component),we=X(ye),Ce=Z(function(e){return!!e})(function(){return r.a.createElement(K.Consumer,null,function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,"Account: ",e.email),r.a.createElement(Ee,null),r.a.createElement(we,null))})}),Se=function(e){function t(e){var n;return Object(N.a)(this,t),(n=Object(R.a)(this,Object(_.a)(t).call(this,e))).state={loading:!1,users:[]},n}return Object(P.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.props.firebase.users().on("value",function(t){var n=t.val(),a=Object.keys(n).map(function(e){return Object(s.a)({},n[e],{uid:e})});e.setState({users:a,loading:!1})})}},{key:"componentWillUnmount",value:function(){this.props.firebase.users().off()}},{key:"render",value:function(){var e=this.state,t=e.users,n=e.loading;return r.a.createElement("div",null,r.a.createElement("h1",null,"Admin"),n&&r.a.createElement("div",null,"Loading ..."),r.a.createElement(Ue,{users:t}))}}]),t}(a.Component),Ue=function(e){var t=e.users;return r.a.createElement("ul",null,t.map(function(e){return r.a.createElement("li",{key:e.uid},r.a.createElement("span",null,r.a.createElement("strong",null,"ID:")," ",e.uid),r.a.createElement("span",null,r.a.createElement("strong",null,"E-Mail:")," ",e.email),r.a.createElement("span",null,r.a.createElement("strong",null,"Username:")," ",e.username))}))},Ne=X(Se),ke="SEARCH",Re=function(e){function t(){return Object(N.a)(this,t),Object(R.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this.props,t=e.search,n=e.value;return r.a.createElement("input",{className:"form-control",placeholder:"Search",onChange:function(e){return t(e.target.value)},value:n})}}]),t}(a.Component);var _e=Object(u.b)(function(e){return{value:e.products.value}},function(e){return Object(l.a)({search:ke},e)})(Re),Pe=q(function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement(ne.a,null,r.a.createElement("div",null,r.a.createElement(te,null),r.a.createElement("hr",null),r.a.createElement(ae.a,{exact:!0,path:"/",component:re}),r.a.createElement(ae.a,{path:"/signup",component:se}),r.a.createElement(ae.a,{path:"/signin",component:ve}),r.a.createElement(ae.a,{path:"/pw-forget",component:he}),r.a.createElement(ae.a,{path:J,component:Oe}),r.a.createElement(ae.a,{path:"/account",component:Ce}),r.a.createElement(ae.a,{path:"/admin",component:Ne})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("h1",{align:"center"},"Online Grocery Store"))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"row"},r.a.createElement(_e,null)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement(M,null)),r.a.createElement("div",{className:"col-md-4"},r.a.createElement(U,null))))}),Ae=(q(function(){return r.a.createElement(ne.a,null,r.a.createElement("div",null,r.a.createElement(te,null),r.a.createElement("hr",null),r.a.createElement(ae.a,{exact:!0,path:"/",component:re}),r.a.createElement(ae.a,{path:"/signup",component:se}),r.a.createElement(ae.a,{path:"/signin",component:ve}),r.a.createElement(ae.a,{path:"/pw-forget",component:he}),r.a.createElement(ae.a,{path:J,component:Oe}),r.a.createElement(ae.a,{path:"/account",component:Ce}),r.a.createElement(ae.a,{path:"/admin",component:Ne})))}),[{id:1,name:"Apples",price:1.5,currency:"EUR",image:"images/1.jpg"},{id:2,name:"Cherries",price:4,currency:"EUR",image:"images/2.jpg"},{id:3,name:"Grapes",price:3.5,currency:"EUR",image:"images/3.jpg"},{id:4,name:"Kiwi",price:1.96,currency:"EUR",image:"images/4.jpg"},{id:5,name:"StrawBerries",price:3.45,currency:"EUR",image:"images/5.jpg"},{id:6,name:"Chicken",price:2.75,currency:"EUR",image:"images/6.jpg"},{id:7,name:"Eggs",price:1.5,currency:"EUR",image:"images/7.jpg"},{id:8,name:"Fish",price:2.5,currency:"EUR",image:"images/8.jpg"},{id:9,name:"Broccoli",price:2.45,currency:"EUR",image:"images/9.jpg"},{id:10,name:"Capsicum",price:1.99,currency:"EUR",image:"images/10.jpg"},{id:11,name:"Carrots",price:1.89,currency:"EUR",image:"images/11.jpg"},{id:12,name:"Cauliflower",price:2.39,currency:"EUR",image:"images/12.jpeg"},{id:13,name:"Cucumbers",price:3.49,currency:"EUR",image:"images/13.jpg"}]),Ie=(n(61),Object(l.b)({cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case m:return function(e,t){return Object(s.a)({},e,{items:Object(o.a)(e.items).concat([t.productId])})}(e,t.payload);case p:return function(e,t){return Object(s.a)({},e,{items:e.items.filter(function(e){return e!==t.productId})})}(e,t.payload);default:return e}},products:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]}})),De=Object(l.c)(Ie,{products:Ae},window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());i.a.render(r.a.createElement(u.a,{store:De},r.a.createElement(B.Provider,{value:new G},r.a.createElement(Pe,null))),document.getElementById("root"))}},[[34,2,1]]]);
//# sourceMappingURL=main.94f60b0c.chunk.js.map